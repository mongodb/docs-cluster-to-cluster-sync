.. _c2c-older-version-support:

==================================
Migrate Data From Pre-6.0 Clusters
==================================

.. default-domain:: mongodb

.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 2
   :class: singlecol

.. include:: /includes/fact-pre-6.0-migration.rst

About this Task 
---------------

``mongosync`` supports syncs between the following source and
destination MongoDB server versions:

.. include:: /includes/table-pre-6.0-compatibilty.rst

Before You Begin 
----------------

:ref:`Download and install <c2c-install>` ``mongosync`` 1.10 or later.

Embedded Verifier 
~~~~~~~~~~~~~~~~~

Before you sync from a pre-6.0 source cluster, enable the 
:ref:`embedded verifier <c2c-embedded-verifier>`. 

Server Version Compatibility 
~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Ensure that you are at least using a minimum supported server version on your 
source and destination clusters: 

.. include:: /includes/table-patch-versions.rst

To learn more about supported server versions, see 
:ref:`c2c-server-version-compatibility`.

Steps 
-----

In the following example, ``cluster0`` is an Atlas cluster running MongoDB 6.0, 
and ``cluster1`` is an Atlas cluster running MongoDB 7.0.

.. procedure:: 
   :style: normal 

   .. step:: Format your connection strings 

      The connection strings for the source and destination clusters should 
      resemble the following: 

      .. code-block:: shell
         
         cluster0:
         mongodb+srv://<user>:<password>@<cluster0Name>.<hostname>.mongodb.net
         cluster1:
         mongodb+srv://<user>:<password>@<cluster1Name>.<hostname>.mongodb.net

   .. step:: Connect the source and destination clusters with mongosync 

      To connect ``cluster0`` to ``cluster1`` with ``mongosync``, enter the 
      following command on the command line:

      .. code-block:: shell
         
         mongosync \
            --cluster0 "mongodb+srv://<user>:<password>@<cluster0Name>.<hostname>.mongodb.net" \
            --cluster1 "mongodb+srv://<user>:<password>@<cluster1Name>.<hostname>.mongodb.net"

Learn More 
----------

- :ref:`c2c-connecting`
- :ref:`Pre-6.0 Migration Limitations <c2c-older-version-limitations>`
- :ref:`c2c-server-version-compatibility`
